import { Menu, MenuButton, MenuItem, MenuList } from "@chakra-ui/react";
import { MouseEventHandler } from "react";
import CircularIcon from "../CircularIcon";

export interface HelpMenuProps {
    onTextClick: MouseEventHandler;
}

const QuestionMarkIcon = () => (
    <svg
        width="12"
        height="20"
        viewBox="0 0 12 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        <path
            d="M5.72851 12.431C5.9276 12.0105 6.21719 11.5024 6.59728 10.9067C6.99547 10.311 7.39367 9.68901 7.79186 9.04074C8.19005 8.39247 8.53394 7.7442 8.82353 7.09593C9.11312 6.44766 9.25792 5.85195 9.25792 5.3088C9.25792 4.41524 8.94118 3.74945 8.30769 3.31143C7.69231 2.85589 6.80543 2.62812 5.64706 2.62812C5.04977 2.62812 4.57014 2.6982 4.20814 2.83837C3.84615 2.96102 3.54751 3.12746 3.31222 3.33771C3.09502 3.54796 2.91403 3.76697 2.76923 3.99474C2.64253 4.22251 2.51584 4.44152 2.38914 4.65178C2.26244 4.86202 2.09955 5.03723 1.90045 5.1774C1.71946 5.30004 1.47511 5.36137 1.16742 5.36137C0.714932 5.36137 0.40724 5.25624 0.244344 5.04599C0.081448 4.81822 0 4.52037 0 4.15243C0 3.38152 0.298643 2.66316 0.895928 1.99737C1.07692 1.78712 1.30317 1.56811 1.57466 1.34034C1.86425 1.11257 2.1991 0.902321 2.57919 0.709593C2.97738 0.499343 3.43891 0.332895 3.9638 0.21025C4.48869 0.0700834 5.09502 0 5.7828 0C7.75566 0 9.28507 0.464302 10.371 1.3929C11.457 2.32151 12 3.62681 12 5.3088C12 5.88699 11.9095 6.46518 11.7285 7.04336C11.5475 7.62155 11.3122 8.19974 11.0226 8.77792C10.733 9.33859 10.4072 9.89926 10.0452 10.4599C9.70136 11.0031 9.35747 11.5375 9.01357 12.0631C8.52489 12.8165 8.11765 13.3859 7.79186 13.7714C7.48416 14.1568 7.13122 14.3495 6.73303 14.3495C6.37104 14.3495 6.0724 14.2707 5.8371 14.113C5.60181 13.9378 5.48416 13.7188 5.48416 13.456C5.48416 13.2983 5.49321 13.1318 5.51131 12.9566C5.52941 12.7814 5.60181 12.6062 5.72851 12.431ZM6.43439 16.8463C6.85068 16.8463 7.23077 17.0039 7.57466 17.3193C7.93665 17.6347 8.11765 18.0114 8.11765 18.4494C8.11765 18.8699 7.93665 19.2378 7.57466 19.5532C7.21267 19.8511 6.80543 20 6.35294 20C5.97285 20 5.61086 19.8511 5.26697 19.5532C4.94118 19.2378 4.77828 18.8524 4.77828 18.3968C4.77828 17.9763 4.94118 17.6172 5.26697 17.3193C5.61086 17.0039 6 16.8463 6.43439 16.8463Z"
            fill="#111111"
        />
    </svg>
);

const HelpIcon = () => (
    <CircularIcon
        icon={QuestionMarkIcon}
        size="32px"
        shadow="1"
    />
);

const HelpMenu = ({ onTextClick }: HelpMenuProps) => {
    return (
        <Menu placement="top-start">
            <MenuButton>
                <HelpIcon />
            </MenuButton>
            <MenuList
                textStyle="input"
                minW="none"
                w="max"
                textAlign="center"
                rounded="base"
                p="0"
            >
                <MenuItem
                    px="2.5"
                    py="1.5"
                    onClick={onTextClick}
                >
                    Laporkan Masalah
                </MenuItem>
            </MenuList>
        </Menu>
    );
};

export default HelpMenu;
